---
title: "Release notes for EDB Postgres Distributed version 4.1.1"
navTitle: "Version 4.1.1"
---

EDB Postgres Distributed version 4.1.1 includes bug fixes for BDR 4.1.1, HARP 2.1.1, and
TPAexec.

| Component | Type        | Description                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|-----------|------------ |----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| BDR       | Feature     | Add generic function bdr.is_node_connected returns true if the walsender for a given peer is active.                                                                                                                                                                                                                                                                                                                                                     |
| BDR       | Feature     | Add generic function bdr.is_node_ready returns boolean if the lag is under a specific span.                                                                                                                                                                                                                                                                                                                                                              |
| BDR       | Bug fix     | Add support for a `--link` argument to bdr_pg_upgrade for using hard-links.                                                                                                                                                                                                                                                                                                                                                                              |
| BDR       | Bug fix     | Prevent removing a `bdr.remove_commit_scope` if still referenced by any `bdr.node_group` as the default commit scope.                                                                                                                                                                                                                                                                                                                                    |
| BDR       | Bug fix     | Correct Raft based switching to Local Mode for CAMO pairs of nodes (RT78928)                                                                                                                                                                                                                                                                                                                                                                             |
| BDR       | Bug fix     | Prevent a potential segfault in bdr.drop_node for corner cases (RT81900)                                                                                                                                                                                                                                                                                                                                                                                 |
| BDR       | Bug fix     | Prevent use of CAMO or Eager All Node transactions in combination with transaction streaming   Transaction streaming turned out to be problematic in combination with CAMO and Eager All Node transactions. Until this is resolved, BDR now prevents its combined use. This may require CAMO deployments to adjust their configuration to disable transaction streaming, see [Transaction Streaming Configuration](transaction-streaming#configuration). |
| HARP      | Enhancement | Log a warning on loss of DCS connection                                                      |   |
| HARP      | Enhancement | Log a warning when metadata refresh is taking too long - usually due to high latency network |   |
| HARP      | Bug Fix     | Restart harp_proxy.service on a failure                                                      |   |
| HARP      | Bug Fix     | Fix concurrency issue with connection management in harpctl                                  |   |
| HARP      | Bug Fix     | Don't try to proxy connections to previous leader on unmanaged cluster                       |   |
| HARP      | Bug Fix     | Don't panic in haprctl when location is empty                                                |   |

### Upgrades

This release supports upgrading from the following versions of BDR:

-   4.0.0 and higher
-   3.7.15
-   3.7.16

Please make sure you read and understand the process and limitations described
in [Upgrades](/pgd/latest/upgrades/) before upgrading.